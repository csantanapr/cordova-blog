<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
--><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
<meta name="generator" content="joDoc">
<title>Apache Cordova API Documentation</title>
<link rel="stylesheet" type="text/css" href="index.css">
<link rel="stylesheet" type="text/css" href="mobile.css" media="only screen and (max-device-width: 1024px)">
<link rel="stylesheet" type="text/css" href="prettify/prettify.css">
</head>
<body>
        <div id="header">
            <h1><a href="index.html">Apache <strong>Cordova</strong> Documentation</a></h1>
            <small>
                <select><optgroup label="English" value="en">
<option value="edge">edge</option>
<option value="2.8.0">2.8.0</option>
<option value="2.7.0rc1">2.7.0rc1</option>
<option value="2.7.0">2.7.0</option>
<option value="2.6.0rc1">2.6.0rc1</option>
<option value="2.6.0">2.6.0</option>
<option value="2.5.0rc1">2.5.0rc1</option>
<option value="2.5.0">2.5.0</option>
<option value="2.4.0rc1">2.4.0rc1</option>
<option value="2.4.0">2.4.0</option>
<option value="2.3.0rc2">2.3.0rc2</option>
<option value="2.3.0rc1">2.3.0rc1</option>
<option value="2.3.0">2.3.0</option>
<option value="2.2.0rc2">2.2.0rc2</option>
<option value="2.2.0rc1">2.2.0rc1</option>
<option value="2.2.0">2.2.0</option>
<option value="2.1.0rc2">2.1.0rc2</option>
<option value="2.1.0rc1">2.1.0rc1</option>
<option value="2.1.0">2.1.0</option>
<option value="2.0.0rc1">2.0.0rc1</option>
<option value="2.0.0">2.0.0</option>
<option value="1.9.0rc1">1.9.0rc1</option>
<option value="1.9.0">1.9.0</option>
<option value="1.8.1">1.8.1</option>
<option value="1.8.0rc1">1.8.0rc1</option>
<option value="1.8.0">1.8.0</option>
<option value="1.7.0rc1">1.7.0rc1</option>
<option value="1.7.0">1.7.0</option>
<option value="1.6.1">1.6.1</option>
<option value="1.6.0rc1">1.6.0rc1</option>
<option value="1.6.0">1.6.0</option>
<option value="1.5.0rc1">1.5.0rc1</option>
<option value="1.5.0">1.5.0</option>
</optgroup>
<optgroup label="Japanese" value="jp">
<option value="2.2.0">2.2.0</option>
<option value="2.1.0">2.1.0</option>
<option selected value="2.0.0">2.0.0</option>
<option value="1.9.0">1.9.0</option>
<option value="1.8.1">1.8.1</option>
<option value="1.7.0">1.7.0</option>
</optgroup>
<optgroup label="Korean" value="kr"><option value="2.0.0">2.0.0</option></optgroup></select></small>
        </div>
        <div id="subheader">
            <h1>プラグイン開発ガイド</h1>
            <small><select><option value="%25E3%2583%2597%25E3%2583%25A9%25E3%2582%25B0%25E3%2582%25A4%25E3%2583%25B3%25E9%2596%258B%25E7%2599%25BA%25E3%2582%25AC%25E3%2582%25A4%25E3%2583%2589">プラグイン開発ガイド</option>
<option value="%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89_javascript">      - JavaScript</option>
<option value="%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89_">      - ネイティブ</option></select></small>
        </div>

        <div id="sidebar">
            <div class="vertical_divider"></div>
        <h1>API リファレンス</h1>
<ul>
<li><a href="cordova_accelerometer_accelerometer.md.html#Accelerometer">Accelerometer</a></li>
<li><a href="cordova_camera_camera.md.html#Camera">Camera</a></li>
<li><a href="cordova_media_capture_capture.md.html#Capture">Capture</a></li>
<li><a href="cordova_compass_compass.md.html#Compass">Compass</a></li>
<li><a href="cordova_connection_connection.md.html#Connection">Connection</a></li>
<li><a href="cordova_contacts_contacts.md.html#Contacts">Contacts</a></li>
<li><a href="cordova_device_device.md.html#Device">Device</a></li>
<li><a href="cordova_events_events.md.html#Events">Events</a></li>
<li><a href="cordova_file_file.md.html#File">File</a></li>
<li><a href="cordova_geolocation_geolocation.md.html#Geolocation">Geolocation</a></li>
<li><a href="cordova_media_media.md.html#Media">Media</a></li>
<li><a href="cordova_notification_notification.md.html#Notification">Notification</a></li>
<li><a href="cordova_storage_storage.md.html#Storage">Storage</a></li>
</ul>
<h1>Guides</h1>
<ul>
<li><a href="guide_getting-started_index.md.html#%E5%85%A5%E9%96%80%E3%82%AC%E3%82%A4%E3%83%89">入門ガイド</a></li>
<li><a href="guide_command-line_index.md.html#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3%E4%BD%BF%E7%94%A8%E3%82%AC%E3%82%A4%E3%83%89">コマンドライン使用ガイド</a></li>
<li><a href="guide_upgrading_index.md.html#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89%E3%82%AC%E3%82%A4%E3%83%89">アップグレードガイド</a></li>
<li><a href="guide_plugin-development_index.md.html#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89">プラグイン開発ガイド</a></li>
<li><a href="guide_whitelist_index.md.html#%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%9B%E3%83%AF%E3%82%A4%E3%83%88%E3%83%AA%E3%82%B9%E3%83%88%E3%82%AC%E3%82%A4%E3%83%89">ドメインホワイトリストガイド</a></li>
<li><a href="guide_cordova-webview_index.md.html#WebView%20%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF">WebView の埋め込み</a></li>
<li><a href="_index.html">索引</a></li>
</ul>
</div>

        <div id="scrollable">
            <div id="content">
                <h1><a name="%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89">プラグイン開発ガイド</a></h1>

<p>Cordava プラグインは Cordova アプリケーション Webview と Cordava
アプリケーションが走っているネイティブプラットフォームの機能的な
橋渡しをします。プラグインはすべてのプラットフォームで使われる
1つの JavaScript インターフェースに集約され、そのプラグイン
インターフェースに従ったプラットフォーム独自のネイティブ実装が
それぞれなされます。すべてのコア Cordova API はこのアーキテクチャ
を用いて実装されています。</p>

<p>このガイドはシンプルな Echo プラグインを書くために必要なステップを
紹介していきます。 Echo プラグインは JavaScript から文字列を受け取り、
それをサポートされているプラットフォームのネイティブ環境に渡します。
このネイティブコードは同じ文字列を、プラグインの JavaScript の
コールバックに含んで返します。</p>

<p>このガイドから、より複雑なプラグインを書くために必要な概観や詳細が
得られるはずです。</p>

<h2>
<a name="%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89_javascript">JavaScript</a>
</h2>

<p>すべてのプラグインの最初の一歩は JavaScript です。開発者が Cordova を
使う理由は、 Objective-C でも Java でも C# でもなく、 JavaScript を使って
コードが書けるからです。プラグインにとって JavaScript インターフェースは
まさしく顔であり、もっとも重要な部分であると言えるでしょう。</p>

<p>あなたはプラグインの JavaScript を好きなように構成できます。ただ一つ、
Cordova JavaScript とネイティブ環境との間のコミュニケーションのために
<code>cordova.exec</code> 関数を <em>使う必要があります</em> 。以下が例です:</p>

<pre class="prettyprint"><code>cordova.exec(function(winParam) {}, function(error) {}, "service",
             "action", ["firstArgument", "secondArgument", 42,
             false]);
</code></pre>

<p>以下がパラメーターの詳細説明です:</p>

<ol>
<li>
<code>function(winParam) {}</code> - 成功コールバック関数です。 <code>exec</code> の実行が
正常に完了したとき、この関数が呼び出されます
(任意で返されたパラメーターと一緒に呼び出されます)</li>
<li>
<code>function(error) {}</code> - エラーコールバック関数です。もし操作が正常に
完了しなかったとき、この関数が呼び出されます
(任意で返されたパラメーターと一緒に呼び出されます)</li>
<li>
<code>"service"</code> - ネイティブ側で呼び出されるサービス名です。これは
ネイティブクラスにマッピングされます。詳しくは、以下のネイティブ
ガイドで説明しています</li>
<li>
<code>"action"</code> - 呼び出されるアクション名です。 <code>exec</code> からの呼び出しを
受けるネイティブクラスで取り出され、プラットフォームに依存して、
クラスのメソッドにマッピングされます。詳しくは、以下のネイティブ
ガイドで説明しています</li>
<li>
<code>[/* arguments */]</code> - ネイティブ環境に渡される引数です</li>
</ol>
<h3>Echo プラグイン JavaScript の例</h3>

<pre class="prettyprint"><code>window.echo = function(str, callback) {
    cordova.exec(callback, function(err) {
        callback('Nothing to echo.');
    }, "Echo", "echo", [str]);
};
</code></pre>

<p>詳しく見ていきましょう。プラグインを <code>window</code> に <code>echo</code> 関数として
付与しています。プラグインのユーザーは以下のように使用します:</p>

<pre class="prettyprint"><code>window.echo("echome", function(echoValue) {
    alert(echoValue == "echome"); // should alert true.
});
</code></pre>

<p>はじめに、 <code>exec</code> 関数の後ろ3つの引数について見ていきましょう。
私たちは、 <code>Echo</code> "サービス" を呼び出し、 <code>echo</code> "アクション" を
リクエストし、そして <code>window.echo</code> 関数の最初のパラメーターである
文字列を含んだ配列を引数として渡しています。</p>

<p><code>exec</code> に渡される成功コールバック関数は <code>window.echo</code> が受取る
コールバック関数を単純に参照しています。エラーコールバックについては
もう少し手を加えています: もしネイティブ側でエラーコールバックを呼び出した
場合は、単純に成功コールバックを呼び出し、 "デフォルト" 文字列を渡します。</p>

<h2>
<a name="%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E9%96%8B%E7%99%BA%E3%82%AC%E3%82%A4%E3%83%89_">ネイティブ</a>
</h2>

<p>プラグインの JavaScript の定義が終わったら、それに少なくとも1つの
ネイティブ実装を付け加える必要があります。以下は Cordova がサポート
しているそれぞれのプラットフォームに特化したガイドになります。
以下のガイドでは引き続き、このガイドで作り始めた Echo プラグインを
作成していきます。</p>

<ul>
<li><a href="guide_plugin-development_android_index.md.html#Developing%20a%20Plugin%20on%20Android">Developing a Plugin on Android</a></li>
<li><a href="guide_plugin-development_bada_index.md.html#Developing%20a%20Plugin%20on%20Bada">Developing a Plugin on Bada</a></li>
<li><a href="guide_plugin-development_blackberry_index.md.html#Developing%20a%20Plugin%20on%20BlackBerry">Developing a Plugin on BlackBerry</a></li>
<li><a href="guide_plugin-development_ios_index.md.html#Developing%20a%20Plugin%20on%20iOS">Developing a Plugin on iOS</a></li>
<li><a href="guide_plugin-development_webos_index.md.html#Developing%20a%20Plugin%20on%20webOS">Developing a Plugin on webOS</a></li>
<li><a href="guide_plugin-development_windows-phone_index.md.html#Developing%20a%20Plugin%20on%20Windows%20Phone">Developing a Plugin on Windows Phone</a></li>
</ul>
</div>
        </div>

        <!-- Functionality and Syntax Highlighting -->
        <script type="text/javascript" src="index.js"></script><script type="text/javascript" src="prettify/prettify.js"></script>
</body>
</html>
